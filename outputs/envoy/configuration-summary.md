# F5 XC Tailnet Egress - Configuration Summary

This document provides the port mapping configuration for the F5 XC Tailnet Egress deployment.

## Deployment Information

- **Kubernetes Namespace**: `f-tabrani`
- **Service Name**: `tailscale-egress`
- **Generated**: 2025-08-11T20:07:34Z

## Service Mapping

| F5 XC Origin Pool | Tailnet | Endpoint | Protocol | Port |
|-------------------|---------|----------|----------|------|
| ost-ts-yunohave-com-d7d2a116 | tail40b056 | openspeedtest | TCP | 10000 |
| ost-ts1-yunohave-com-46dad779 | tail88356 | openspeedtest | TCP | 11000 |

## Tailscale Proxy Ports

| Tailnet | HTTP Proxy Port |
|---------|-----------------|
| tail40b056 | 10550 |
| tail88356 | 10551 |

## F5 XC Origin Pool Configuration

### Service Endpoints for F5 XC

#### ost-ts-yunohave-com

- **Backend Endpoint**: `tailscale-egress.f-tabrani:10000`
- **Target Service**: `openspeedtest:3000` (TCP)
- **Tailnet**: `tail40b056`
- **Health Check**: TCP probe on port `10000`

#### ost-ts1-yunohave-com

- **Backend Endpoint**: `tailscale-egress.f-tabrani:11000`
- **Target Service**: `openspeedtest:3000` (TCP)
- **Tailnet**: `tail88356`
- **Health Check**: TCP probe on port `11000`


## Port Allocation Scheme

- **Service Ports**: `10000 + (tailnet_index * 1000) + service_index`
- **Tailscale HTTP Proxy Ports**: `10550 + tailnet_index`

### Example Usage

To access a service through the egress service from F5 XC:

```bash
# Example: Access production app service
curl http://tailscale-egress.f-tabrani.svc.cluster.local:10000
```

### Kubectl Commands

```bash
# Check service status
kubectl get service tailscale-egress -n f-tabrani

# Check pod status
kubectl get pods -l app=tailscale-egress -n f-tabrani

# Port forward for testing
kubectl port-forward svc/tailscale-egress 10000:10000 -n f-tabrani
kubectl port-forward svc/tailscale-egress 11000:11000 -n f-tabrani
```

---
*Generated by Terraform on 2025-08-11T20:07:34Z*
